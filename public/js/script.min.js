$(document).ready(function(){$(".sidenav").sidenav(),$(".modal").modal(),$(".dropdown-trigger").dropdown()}),"default"===Notification.permission&&Notification.requestPermission(function(){console.log("permission denied")});var notify=function(o){new Notification("Usu√°rio online",{body:o.session.nome,icon:"/upload/"+o.session.image})},notify2=function(o){new Notification(o.user+" sended a message",{body:o.message,icon:"/upload/"+o.image})},socket=io("http://localhost:3001");socket.on("connect",function(){console.log("Conected")}),socket.emit("login"),socket.on("disconnect",function(){console.log("Disconnected")}),socket.on("onLine",function(o){notify(o),socket.emit("getRoom","room#"+o.session.cod),console.log("User online: ",o)}),socket.on("toClient",function(o){document.getElementById("chat").innerHTML+=o}),socket.on("notifyMsg",function(o){notify2(o)});var sendMsg=function(o,e,n,t){var i=document.getElementById("msg");socket.emit("toServer",{room:"room#"+o,message:i.value,user:n,image:t}),data={room:"room#"+o,message:i.value,user_id:o},$.ajax({type:"POST",url:"/chats",data:data,success:function(){}})},getRoom=function(o){socket.emit("getRoom","room#"+o),window.location.href="/chats/"+o};